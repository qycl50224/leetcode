# 84. 柱状图中最大的矩形

```java
class Solution {
    public int largestRectangleArea(int[] heights) {
        int max = 0;
       // 对每根柱子，求他的最大面积
       for (int i = 0; i < heights.length; i++) {
           int left = i, right = i;
           // 找最左边的柱子的index
           while (left - 1 >= 0 && heights[left - 1] >= heights[i]) left--;
           // 找最右边的柱子的index
           while (right + 1 < heights.length && heights[right + 1] >= heights[i]) right++;
           int area = (right - left + 1) * heights[i];
           if (area > max) max = area;
       }
       return max;
    }
}
```

![image-20200527163716544](C:\Users\chen\AppData\Roaming\Typora\typora-user-images\image-20200527163716544.png)
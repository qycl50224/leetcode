# 11. ç››æœ€å¤šæ°´çš„å®¹å™¨

**é¢˜ç›®**ï¼š

ç»™ä½  `n` ä¸ªéè´Ÿæ•´æ•° a1ï¼Œa2ï¼Œ...ï¼Œanï¼Œæ¯ä¸ªæ•°ä»£è¡¨åæ ‡ä¸­çš„ä¸€ä¸ªç‚¹ `(i, ai)` ã€‚åœ¨åæ ‡å†…ç”» `n` æ¡å‚ç›´çº¿ï¼Œå‚ç›´çº¿ `i` çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«ä¸º `(i, ai)` å’Œ `(i, 0)`ã€‚æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ x è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚

**è¯´æ˜**ï¼šä½ ä¸èƒ½å€¾æ–œå®¹å™¨ï¼Œä¸” n çš„å€¼è‡³å°‘ä¸º 2ã€‚

 



å›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ `[1,8,6,2,5,4,8,3,7]`ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸º `49`ã€‚

 

**ç¤ºä¾‹ï¼š**

> è¾“å…¥ï¼š[1,8,6,2,5,4,8,3,7]
> è¾“å‡ºï¼š49



### æ€è·¯

1. ç”¨ä¸¤ä¸ªæŒ‡é’ˆè¡¨ç¤ºå·¦å³è¾¹ç•Œï¼Œåœ¨èŒƒå›´å†…æ‰¾é«˜äºå·¦å³è¾¹ç•Œçš„æ¿ä»¬ï¼Œç„¶åä¾æ¬¡æŠŠè¿™äº›é«˜æ¿åšè¾¹ç•Œè®¡ç®—æœ€å¤§é¢ç§¯ï¼Œå¹¶æ›´æ–°å·¦å³è¾¹ç•Œ

å¾ˆé—æ†¾æˆ‘è¿™ä¸ªæ€è·¯æœ‰é—®é¢˜ï¼Œè™½ç„¶æœ€åè·‘è¿‡äº†ï¼Œä½†æ˜¯æœ‰è¿æ°”æˆåˆ†ï¼Œå®ƒæ˜¯å¯ä»¥è¢«æ ·ä¾‹å¡çš„

ä»£ç å¦‚ä¸‹

```java
import java.util.ArrayList;
class Solution {
    public int maxArea(int[] height) {
        int l = 0;
        int r = height.length - 1;
        int sMax = calcS(height, l, r);
        // æ˜¾ç„¶ç”¨æš´æœå¯ä»¥å¾ˆå®¹æ˜“å°±è§£å†³ï¼Œä½†æ˜¯ä¼šè¶…æ—¶
        // æ‰¾åˆ°ä¸¤æ ¹æ¿å­ï¼Œç”¨è¾ƒçŸ­çš„é‚£æ ¹æ¥è®¡ç®—é¢ç§¯ï¼Œå¦‚æœå¤§äºæœ€å¤§é¢ç§¯å°±è®°å½•æ¿å­ä½ç½®å’Œé¢ç§¯ï¼Œå¹¶æ›´æ–°æœ€å¤§é¢ç§¯
        // åˆ¤æ–­ä¸¤æ ¹æ¿å­ä¹‹é—´çš„æ¿å­æ˜¯å¦è¿˜æœ‰å¤§äºä¸¤æ ¹æ¿å­ä¹‹ä¸­çŸ­çš„é‚£ä¸ªçš„æ¿å­ï¼Œæœ‰åˆ™ç”¨å®ƒä¸ä¸¤è¾¹çš„æ¿å­è®¡ç®—é¢ç§¯
        ArrayList<Integer> al = moreHigh(height, l+1 ,r-1 , Math.min(height[l], height[r]));
        while ( al != null ) {
            for (int i = 0; i < al.size(); i++) {
                int index = al.get(i);
                int s1 = calcS(height, l, index);
                int s2 = calcS(height, index, r);
                if ( s1 > sMax || s2 > sMax ) {
                    if ( s1 >= s2) { sMax = s1; }
                    else { sMax = s2;  }
                }
            }
            // ä¸‹é¢è¿™é‡Œå°±æ˜¯æˆ‘æœ¬æ¥ä¸æƒ³åŠ ï¼Œä½†æ˜¯ä¸åŠ ä¸è¡Œï¼ŒåŠ äº†å°±èƒ½è¿‡çš„ä»£ç ï¼Œ
            l += 1;
            r -= 1;
            al = moreHigh(height, l, r, Math.min(height[l], height[r]));
        }
        return sMax;
        
    }

    private ArrayList<Integer> moreHigh(int[] h, int l, int r, int sh) {
        if (l > r) return null;
        ArrayList<Integer> al = new ArrayList<>();
        for (int i = l ; i <= r; i++) {
            if (h[i] > sh) al.add(i);
        }
        if (al.isEmpty()) return null;
        return al;
    }

    private int calcS(int[] h, int p1, int p2) {
        if ( h[p1] >= h[p2] ) {return h[p2] * (p2 - p1);}
        else  {return h[p1] * (p2 - p1);}
    }
}
```

![image-20200510223933335](C:\Users\chen\AppData\Roaming\Typora\typora-user-images\image-20200510223933335.png)

æ•ˆç‡å¤ªä½äº†

### æ­£è§„çš„åŒæŒ‡é’ˆ

ä¹Ÿæ˜¯æŠŠä¸¤è¾¹ä½œä¸ºæŒ‡é’ˆï¼Œç„¶åæ›´æ–°ï¼Œåªä¸è¿‡æ›´æ–°æ–¹å¼æ˜¯ï¼š

ä»çŸ®çš„ä¸€è¾¹å¾€å¦ä¸€è¾¹èµ°1æ ¼ï¼Œè®¡ç®—é¢ç§¯ï¼Œæ›´æ–°æœ€å¤§é¢ç§¯ã€‚çŸ¥é“å·¦å³æŒ‡é’ˆç›¸ç­‰

æˆ–è€…è¯´æ˜¯ï¼Œæ›´æ–°çŸ­çš„é‚£ä¸€è¾¹ï¼Œå› ä¸ºä¸¤ä¸ªæœ¨æ¿ä¹‹é—´è·ç¦»è¶Šæ¥è¶ŠçŸ­ï¼Œæ‰€ä»¥åªæœ‰æ›´æ–°åçš„æ¨¡æ¿é«˜åº¦å¤§äºæ›´æ–°å‰çš„æ¨¡æ¿é«˜åº¦ï¼Œé¢ç§¯æ‰å¯èƒ½å¢å¤§

å¤æ‚åº¦ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼š**Oï¼ˆNï¼‰**æœ€å¤šèµ°ä¸€é
- ç©ºé—´å¤æ‚åº¦ï¼šä¸¤ä¸ªæ•´å‹å˜é‡æ¥è·Ÿè¸ªå·¦å³è¾¹ç•Œï¼Œ**Oï¼ˆ1ï¼‰**

```java
import java.util.ArrayList;
class Solution {
    public int maxArea(int[] height) {
        int l = 0;
        int r = height.length - 1;
        int maxS = 0;
        while ( l != r ) {
            int s = Math.min(height[l], height[r]) *(r - l);
            if (s > maxS) maxS = s;
            if (height[l] < height[r]) { l += 1; }
            else { r-= 1; }
        }
        return maxS;
    }
}
```

![image-20200510230014438](C:\Users\chen\AppData\Roaming\Typora\typora-user-images\image-20200510230014438.png)

çœŸğŸ‚

[è¿™ä¸ªè¯æ˜](https://leetcode-cn.com/problems/container-with-most-water/solution/container-with-most-water-shuang-zhi-zhen-fa-yi-do/)å¾ˆæ¸…æ¥šçš„è§£é‡Šäº†ä¸ºä»€ä¹ˆç§»åŠ¨çŸ­æ¿ä¸ä¼šå¯¼è‡´æœ€å¤§é¢ç§¯ä¸¢å¤±ï¼Œä»¥åŠä¸ºä»€ä¹ˆç§»åŠ¨é•¿ç‰ˆå¯èƒ½ä¼šä¸¢å¤±æœ€å¤§é¢ç§¯

